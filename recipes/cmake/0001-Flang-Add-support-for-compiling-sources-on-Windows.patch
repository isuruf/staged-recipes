From 3c3682289dfe62fa2448e1be7ab714e674b475d8 Mon Sep 17 00:00:00 2001
From: Isuru Fernando <isuruf@gmail.com>
Date: Mon, 30 Oct 2017 19:51:45 -0500
Subject: [PATCH 48/48] Flang: Add support for compiling sources on Windows

Define `CMAKE_Fortran_COMPILE_OBJECT` for Flang on Windows.
---
 share/cmake-3.10/Modules/Platform/Windows-Flang-Fortran.cmake | 1 +
 1 file changed, 1 insertion(+)

diff --git a/share/cmake-3.10/Modules/Platform/Windows-Flang-Fortran.cmake b/share/cmake-3.10/Modules/Platform/Windows-Flang-Fortran.cmake
index 9f20e73..a4b1cf1 100644
--- a/share/cmake-3.10/Modules/Platform/Windows-Flang-Fortran.cmake
+++ b/share/cmake-3.10/Modules/Platform/Windows-Flang-Fortran.cmake
@@ -1,2 +1,3 @@
 include(Platform/Windows-MSVC)
 __windows_compiler_msvc(Fortran)
+set(CMAKE_Fortran_COMPILE_OBJECT "<CMAKE_Fortran_COMPILER> ${_COMPILE_Fortran} <DEFINES> <INCLUDES> <FLAGS> -o <OBJECT> -c <SOURCE>")
-- 
2.7.4

